(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1124:function(e,t,o){var content=o(1127);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(123).default)("10e8a579",content,!0,{sourceMap:!1})},1126:function(e,t,o){"use strict";var r=o(1124);o.n(r).a},1127:function(e,t,o){(t=o(122)(!1)).push([e.i,"#components-layout-demo-side .logo{height:32px;background:hsla(0,0%,100%,.2);margin:16px}",""]),e.exports=t},1130:function(e,t,o){"use strict";o.r(t);o(95);var r=o(175),n=o(90),l=(o(582),{data:function(){return Object(r.a)({errors:[],formLayout:"horizontal",form:this.$form.createForm(this,{name:"coordinated"})},"form",{name:"",gender:"",subcounty:"",ward:"",actualfees:"",amountissued:"",school:"",year:"",course:"",remarks:""})},methods:{handleSubmit:function(e){(e.preventDefault(),this.errors=[],""===this.form.name&&this.errors.push("Name cannot be empty"),""===this.form.gender&&this.errors.push("Gender cannot be empty"),""===this.form.ward&&this.errors.push("Ward cannot be empty"),""===this.subcounty&&this.errors.push("Subcounty cannot be empty"),""===this.form.actualfees&&this.errors.push("actualfees cannot be empty"),""===this.form.amountissued&&this.errors.push("amountissued cannot be empty"),""===this.form.school&&this.errors.push("school cannot be empty"),""===this.form.course&&this.errors.push("course cannot be empty"),""===this.form.year&&this.errors.push("year cannot be empty"),this.errors.length>0)||(n.firestore().collection("beneficiaries").add({Name:this.form.name,Gender:this.form.gender,Ward:this.form.ward,Subcounty:this.form.subcounty,ActualFeesAmount:this.form.actualfees,AmountIssued:this.form.amountissued,School:this.form.school,Course:this.form.course,Year:this.form.year,Remarks:this.form.remarks}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)})),this.$message.info("Beneficiary information successfuly added."))}}}),c=o(69),m={data:function(){return{datatables:[],columns:[]}},methods:{loadmembers:function(){var e=[];this.columns=[],this.columns=[{title:"Name",dataIndex:"Name",key:"Name"},{title:"Gender",dataIndex:"Gender",key:"Gender"},{title:"Ward",dataIndex:"Ward",key:"Ward"},{title:"Subcounty",key:"Subcounty",dataIndex:"Subcounty"},{title:"School",key:"School",dataIndex:"School"},{title:"Course",key:"Course",dataIndex:"Course"},{title:"FeesAmount",key:"FeesAmount",dataIndex:"FeesAmount"},{title:"Issued",key:"AmountIssued",dataIndex:"AmountIssued"},{title:"Year",key:"Year",dataIndex:"Year"},{title:"Remarks",key:"Remarks",dataIndex:"Remarks"},{title:"Action",key:"action",scopedSlots:{customRender:"action"}}],this.data=[];n.firestore().collection("beneficiaries").get().then((function(t){t.forEach((function(t){var o=t.data().Name,r=t.data().Gender,n=t.data().Ward,l=t.data().Subcounty,c=t.data().School;e.push({Id:t.id,Name:o,Gender:r,Ward:n,Subcounty:l,School:c,Course:t.data().Course,FeesAmount:t.data().ActualFeesAmount,AmountIssued:t.data().AmountIssued,Year:t.data().Year,Remarks:t.data().Remarks})}))})).catch((function(e){console.log("Error getting documents: ",e)}));this.datatables=e},deletemember:function(e){var t=n.firestore();console.log(e),t.collection("beneficiaries").doc(e.Id).delete().then((function(){console.log("successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)})),this.$message.info("successfully deleted the beneficiary"),this.loadmembers()}},created:function(){this.loadmembers()}},d={components:{newmember:Object(c.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[o("a-card",{staticStyle:{width:"auto",height:"auto"}},[o("a-tabs",{attrs:{"default-active-key":"1"}},[o("a-tab-pane",{key:"1"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"user"}}),e._v("\n            Beneficiary information\n          ")],1),e._v(" "),o("a-row",[o("a-col",[o("br"),e._v(" "),o("p",[e._v("\n                Name "),o("br"),e._v(" "),o("a-input",{staticStyle:{"margin-top":"5px",width:"400px"},attrs:{placeholder:"provide fullnames","allow-clear":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("p",[e._v("\n                Gender "),o("br"),e._v(" "),o("a-select",{staticStyle:{width:"400px"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[o("a-select-option",{attrs:{value:"Male"}},[e._v("\n                    Male\n                  ")]),e._v(" "),o("a-select-option",{attrs:{value:"Female"}},[e._v("\n                    Female\n                  ")])],1)],1),e._v(" "),o("p",[e._v("\n                Sub county "),o("br"),e._v(" "),o("a-input",{staticStyle:{"margin-top":"5px",width:"400px"},attrs:{placeholder:"your sub-county","allow-clear":""},model:{value:e.form.subcounty,callback:function(t){e.$set(e.form,"subcounty",t)},expression:"form.subcounty"}})],1),e._v(" "),o("p",[e._v("\n                Ward "),o("br"),e._v(" "),o("a-input",{staticStyle:{"margin-top":"5px",width:"400px"},attrs:{placeholder:"your ward","allow-clear":""},model:{value:e.form.ward,callback:function(t){e.$set(e.form,"ward",t)},expression:"form.ward"}})],1),e._v(" "),o("p",[e._v("\n                Actual Fees Amount "),o("br"),e._v(" "),o("a-input",{staticStyle:{"margin-top":"5px",width:"400px"},attrs:{placeholder:"Amount $","allow-clear":""},model:{value:e.form.actualfees,callback:function(t){e.$set(e.form,"actualfees",t)},expression:"form.actualfees"}})],1),e._v(" "),o("p",[e._v("\n                Amount Issued "),o("br"),e._v(" "),o("a-input",{staticStyle:{"margin-top":"5px",width:"400px"},attrs:{placeholder:"Issued $","allow-clear":""},model:{value:e.form.amountissued,callback:function(t){e.$set(e.form,"amountissued",t)},expression:"form.amountissued"}})],1)])],1)],1),e._v(" "),o("a-tab-pane",{key:"2"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"user"}}),e._v("\n            School information\n          ")],1),e._v(" "),o("a-row",[o("a-col",[o("br"),e._v(" "),o("p",[e._v("\n                School/College "),o("br"),e._v(" "),o("a-input",{staticStyle:{"margin-top":"5px",width:"400px"},attrs:{placeholder:"provide school name","allow-clear":""},model:{value:e.form.school,callback:function(t){e.$set(e.form,"school",t)},expression:"form.school"}})],1),e._v(" "),o("p",[e._v("\n                Class/Year "),o("br"),e._v(" "),o("a-input",{staticStyle:{"margin-top":"5px",width:"400px"},attrs:{placeholder:"provide the class","allow-clear":""},model:{value:e.form.year,callback:function(t){e.$set(e.form,"year",t)},expression:"form.year"}})],1),e._v(" "),o("p",[e._v("\n                Course "),o("br"),e._v(" "),o("a-input",{staticStyle:{"margin-top":"5px",width:"400px"},attrs:{placeholder:"provide the course name","allow-clear":""},model:{value:e.form.course,callback:function(t){e.$set(e.form,"course",t)},expression:"form.course"}})],1),e._v(" "),o("p",[e._v("\n                Remarks "),o("br"),e._v(" "),o("a-input",{staticStyle:{"margin-top":"5px",width:"400px"},attrs:{placeholder:"remarks ","allow-clear":""},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)])],1)],1)],1),e._v(" "),o("a-divider"),e._v(" "),o("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("\n        Submit information\n      ")]),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("p",[e.errors.length?o("a-alert",{attrs:{message:"",closable:"",type:"error"}},[o("p",{attrs:{slot:"description"},slot:"description"},[o("span",{staticStyle:{color:"red"}},[e._v("\n           Errors \n             "),o("ul",e._l(e.errors,(function(t){return o("li",{key:t},[e._v(e._s(t))])})),0)])])]):e._e()],1)],1)],1)],1)}),[],!1,null,"320d4e4c",null).exports,viewmember:Object(c.a)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-card",{staticStyle:{width:"auto",height:"auto"}},[o("h2",[e._v("Beneficiaries list")]),e._v(" "),o("a-divider"),e._v(" "),o("a-table",{attrs:{columns:e.columns,"data-source":e.datatables,bordered:"",small:""},scopedSlots:e._u([{key:"action",fn:function(text,t){return o("span",{},[o("a-button",{attrs:{type:"danger"},on:{click:function(o){return e.deletemember(t)}}},[e._v("\n          Delete\n        ")])],1)}}])})],1)],1)}),[],!1,null,"2020cc52",null).exports},data:function(){return{component:"viewmember",collapsed:!1,IsAdmin:!1,Title:"",mode:"inline",theme:"dark"}},methods:{handleClick:function(menu){switch(menu.key){case"admin":this.component="";break;case"new":this.IsAdmin?this.component="newmember":this.$message.info("Sorry you cannot access this page.");break;case"view":this.component="viewmember";break;case"logout":this.$message.info("Redirecting your to login page ..."),localStorage.removeItem("IsLogged"),localStorage.removeItem("account"),this.$router.push("/")}},changeMode:function(e){this.mode=e?"vertical":"inline"},changeTheme:function(e){this.theme=e?"light":"dark"},logout:function(){localStorage.removeItem("IsLogged"),localStorage.removeItem("account"),this.$router.push("/")}},created:function(){if(localStorage.getItem("IsLogged")){var e=localStorage.getItem("account").toLowerCase();this.IsAdmin="superadmin"===e}else this.$router.push("/")}},h=(o(1126),Object(c.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a-layout",{staticStyle:{"min-height":"100vh"},attrs:{id:"components-layout-demo-side"}},[o("a-layout-sider",{attrs:{mode:e.mode,theme:e.theme,collapsible:""},model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[o("div",{staticClass:"logo"}),e._v(" "),o("a-menu",{attrs:{mode:e.mode,theme:e.theme,"default-selected-keys":["1"]},on:{click:e.handleClick}},[o("a-menu-item",{key:"admin"},[o("a-icon",{attrs:{type:"safety"}}),e._v(" "),o("span",[e._v("Admin")])],1),e._v(" "),o("a-sub-menu",{key:"sub2"},[o("span",{attrs:{slot:"title"},slot:"title"},[o("a-icon",{attrs:{type:"team"}}),e._v(" "),o("span",[e._v("Beneficiaries")])],1),e._v(" "),o("a-menu-item",{key:"new"},[e._v("\n          Add New \n        ")]),e._v(" "),o("a-menu-item",{key:"view"},[e._v("\n          View \n        ")])],1),e._v(" "),o("a-menu-item",{key:"logout"},[o("a-icon",{attrs:{type:"logout"}}),e._v(" "),o("span",[e._v("Logout")])],1)],1)],1),e._v(" "),o("a-layout",[o("a-layout-header",{staticStyle:{background:"#fff",padding:"0"}},[o("h2",{staticStyle:{"margin-left":"25px"}},[e._v("Scholarship Disbursement ")])]),e._v(" "),o("a-layout-content",{staticStyle:{margin:"0 16px"}},[o("a-breadcrumb",{staticStyle:{margin:"16px 0"}}),e._v(" "),o("div",{style:{padding:"24px",background:"#fff",height:"100%",width:"100%"}},[o(e.component,{tag:"component"})],1)],1),e._v(" "),o("a-layout-footer",{staticStyle:{"text-align":"center"}},[e._v("\n      All rights reserved copyright ©2020\n    ")])],1)],1)}),[],!1,null,null,null));t.default=h.exports}}]);